{"version":3,"sources":["../../../src/server/lib/patch-fetch.ts"],"names":["AppRenderSpan","getTracer","SpanKind","CACHE_ONE_YEAR","isEdgeRuntime","process","env","NEXT_RUNTIME","addImplicitTags","staticGenerationStore","newTags","pathname","originalPathname","Array","isArray","tags","includes","push","patchFetch","serverHooks","staticGenerationAsyncStorage","globalThis","fetch","__nextPatched","DynamicServerError","originFetch","input","init","url","URL","Request","username","password","undefined","method","toUpperCase","trace","kind","CLIENT","spanName","toString","filter","Boolean","join","attributes","hostname","port","getRequestMeta","getStore","isRequestInput","field","value","next","internal","revalidate","getNextField","curRevalidate","tag","implicitTags","isOnlyCache","fetchCache","isForceCache","isDefaultNoStore","isOnlyNoStore","isForceNoStore","_cache","_headers","initHeaders","get","Headers","hasUnCacheableHeader","isUnCacheableMethod","toLowerCase","autoNoCache","Error","cacheKey","incrementalCache","fetchCacheKey","err","console","error","requestInputFields","reqInput","reqOptions","body","_ogBody","initialInit","fetchUrl","fetchIdx","nextFetchId","doOriginalFetch","clonedInit","fetchType","then","res","status","bodyBuffer","Buffer","from","arrayBuffer","set","data","headers","Object","fromEntries","entries","warn","Response","entry","isOnDemandRevalidate","currentTags","isRevalidate","isStale","pendingRevalidates","catch","every","resData","decodedBody","decode","require","subarray","isStaticGeneration","cache","dynamicUsageReason","dynamicUsageStack","stack","dynamicUsageDescription","hasNextConfig","forceDynamic","__nextGetStaticStore"],"mappings":"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"}